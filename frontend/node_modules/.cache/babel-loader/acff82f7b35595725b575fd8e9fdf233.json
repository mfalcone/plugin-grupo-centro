{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/grupocentro/wp-content/plugins/profesionales/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import{BASEURL}from'./lib/baseurl';import{Especialidades}from'./componentes/especialidades';import'./App.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),especialidades=_useState2[0],setEspecialidades=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),profesionales=_useState4[0],setProfesionales=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),especialidadesAMostrar=_useState6[0],setEspecialidadesAMostrar=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),cargando=_useState8[0],setCargando=_useState8[1];useEffect(function(){var headers={'Content-Type':'application/json','Accept':'application/json'};var getProfecionales=function getProfecionales(){fetch(BASEURL+'/wp-json/wp/v2/profesionales?_embed&filter[posts_per_page]=-1',{headers:headers}).then(function(response){return response.json();}).then(function(myJson){setProfesionales(myJson);}).catch(function(error){console.log(error);});};var getEspecialidades=function getEspecialidades(){fetch(BASEURL+'/wp-json/wp/v2/especialidades?_embed&filter[posts_per_page]=-1',{headers:headers}).then(function(response){return response.json();}).then(function(myJson){setEspecialidades(myJson);getProfecionales();}).catch(function(error){console.log(error);});};getEspecialidades();setCargando(true);},[]);useEffect(function(){var armarDatos=function armarDatos(){var especialidadesMostar=[];especialidades.map(function(especialidad,index){especialidadesMostar.push({id:especialidad.id,titulo:especialidad.title.rendered});var profesionalesAMostrar=[];profesionales.filter(function(profesional){if(profesional.post_meta_fields._especialidad_field[0]===especialidad.id.toString()){profesionalesAMostrar.push({id:profesional.id,apellido:profesional.post_meta_fields._apellido_meta_key[0],nombre:profesional.post_meta_fields._nombre_meta_key[0],matricula:profesional.post_meta_fields._matricula_meta_key[0],imagen:profesional.featured_media});}return profesionalesAMostrar;});especialidadesMostar[index].profesionales=profesionalesAMostrar;return null;});setEspecialidadesAMostrar(especialidadesMostar);};if(profesionales.length>0&&especialidades.length>0){armarDatos();}},[profesionales,especialidades]);useEffect(function(){if(especialidadesAMostrar.length>0){setCargando(false);}},[especialidadesAMostrar]);return/*#__PURE__*/_jsxs(Fragment,{children:[cargando&&/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:\"Cargando...\"}),especialidadesAMostrar.length>0&&/*#__PURE__*/_jsx(Especialidades,{especialidades:especialidadesAMostrar})]});}export default App;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/grupocentro/wp-content/plugins/profesionales/frontend/src/App.js"],"names":["React","Fragment","useEffect","useState","BASEURL","Especialidades","App","especialidades","setEspecialidades","profesionales","setProfesionales","especialidadesAMostrar","setEspecialidadesAMostrar","cargando","setCargando","headers","getProfecionales","fetch","then","response","json","myJson","catch","error","console","log","getEspecialidades","armarDatos","especialidadesMostar","map","especialidad","index","push","id","titulo","title","rendered","profesionalesAMostrar","filter","profesional","post_meta_fields","_especialidad_field","toString","apellido","_apellido_meta_key","nombre","_nombre_meta_key","matricula","_matricula_meta_key","imagen","featured_media","length"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport { BASEURL } from './lib/baseurl';\nimport {Especialidades} from './componentes/especialidades';\nimport './App.scss';\n\nfunction App() {\n\n  const [especialidades, setEspecialidades] = useState([]);\n  const [profesionales, setProfesionales] = useState([]);\n  const [especialidadesAMostrar, setEspecialidadesAMostrar] = useState([]);\n  const [cargando, setCargando] = useState(true);\n\n  \n\n  useEffect(() => {\n    const headers = {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n\n    const getProfecionales = () => {\n      fetch(BASEURL + '/wp-json/wp/v2/profesionales?_embed&filter[posts_per_page]=-1', { headers: headers })\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (myJson) {\n          setProfesionales(myJson);\n        }).catch(function (error) {\n          console.log(error);\n        })\n        ;\n    }\n\n    const getEspecialidades = () => {\n      fetch(BASEURL + '/wp-json/wp/v2/especialidades?_embed&filter[posts_per_page]=-1', { headers: headers })\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (myJson) {\n          setEspecialidades(myJson);\n          getProfecionales()\n        }).catch(function (error) {\n          console.log(error);\n        })\n        ;\n    }\n    getEspecialidades();\n    setCargando(true);\n  }, [])\n\n  useEffect(() => {\n    const armarDatos = () => {\n      const especialidadesMostar = [];\n      especialidades.map((especialidad, index) => {\n        especialidadesMostar.push({\n          id: especialidad.id,\n          titulo: especialidad.title.rendered,\n        });\n        const profesionalesAMostrar = []\n  \n        profesionales.filter(profesional => {\n          if (profesional.post_meta_fields._especialidad_field[0] === especialidad.id.toString()) {\n            profesionalesAMostrar.push({\n              id: profesional.id,\n              apellido: profesional.post_meta_fields._apellido_meta_key[0],\n              nombre: profesional.post_meta_fields._nombre_meta_key[0],\n              matricula: profesional.post_meta_fields._matricula_meta_key[0],\n              imagen: profesional.featured_media,\n            })\n          }\n          return profesionalesAMostrar;\n        })\n        especialidadesMostar[index].profesionales = profesionalesAMostrar;\n  \n        return null;\n      })\n      setEspecialidadesAMostrar(especialidadesMostar);\n    }\n    if(profesionales.length > 0 && especialidades.length > 0){  \n      armarDatos()\n    }\n  }, [profesionales, especialidades])\n\n  useEffect(() => {\n    if (especialidadesAMostrar.length > 0) {\n      setCargando(false);\n    }\n  }, [especialidadesAMostrar])\n\n  return (\n    <Fragment>\n      {cargando && <div className=\"App\">Cargando...</div>}\n      {especialidadesAMostrar.length > 0 && <Especialidades especialidades={especialidadesAMostrar}/>}\n    </Fragment>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}